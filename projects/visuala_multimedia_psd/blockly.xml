<xml xmlns="http://www.w3.org/1999/xhtml"><block type="procedures_defnoreturn" x="50" y="-590"><field name="NAME">checkSliderPosition</field><statement name="STACK"><block type="controls_if"><value name="IF0"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">pos</field></block></value><value name="B"><block type="variables_get"><field name="VAR">pos2</field></block></value></block></value><statement name="DO0"><block type="controls_if"><value name="IF0"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">pos</field></block></value><value name="B"><block type="math_number"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="variables_set"><field name="VAR">chapterAudio</field><value name="VALUE"><block type="text"><field name="TEXT">rabbit.ogg</field></block></value><next><block type="variables_set"><field name="VAR">chapterText</field><value name="VALUE"><block type="text"><field name="TEXT">rabbit.json</field></block></value><next><block type="other_setTimeout"><value name="MS"><block type="math_number"><field name="NUM">2000</field></block></value><statement name="BLOCK"><block type="effects_playLayerAnimation"><field name="LOOP">TRUE</field><value name="LAYER"><block type="photoshop_unique_layer_id"><field name="TEXT">rabbit_complete_125</field></block></value><value name="ANIMATION"><block type="text"><field name="TEXT">default</field></block></value></block></statement></block></next></block></next></block></statement><next><block type="controls_if"><value name="IF0"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">pos</field></block></value><value name="B"><block type="math_number"><field name="NUM">2</field></block></value></block></value><statement name="DO0"><block type="variables_set"><field name="VAR">chapterAudio</field><value name="VALUE"><block type="text"><field name="TEXT">cat.ogg</field></block></value><next><block type="variables_set"><field name="VAR">chapterText</field><value name="VALUE"><block type="text"><field name="TEXT">cat.json</field></block></value><next><block type="other_setTimeout"><value name="MS"><block type="math_number"><field name="NUM">2000</field></block></value><statement name="BLOCK"><block type="effects_playLayerAnimation"><field name="LOOP">TRUE</field><value name="LAYER"><block type="photoshop_unique_layer_id"><field name="TEXT">cat_complete_127</field></block></value><value name="ANIMATION"><block type="text"><field name="TEXT">default</field></block></value></block></statement></block></next></block></next></block></statement><next><block type="variables_set"><field name="VAR">chapterLayer</field><value name="VALUE"><block type="lists_getIndex"><mutation statement="false" at="true"></mutation><field name="MODE">GET</field><field name="WHERE">FROM_START</field><value name="VALUE"><block type="variables_get"><field name="VAR">completeImagesList</field></block></value><value name="AT"><block type="variables_get"><field name="VAR">pos</field></block></value></block></value><next><block type="variables_set"><field name="VAR">chapterKaraokeBox</field><value name="VALUE"><block type="layer_selectInVariable"><value name="VALUE"><block type="variables_get"><field name="VAR">chapterLayer</field></block></value><value name="BLOCK"><block type="layer_find"><value name="VALUE"><block type="photoshop_layer_name"><field name="TEXT">karaoke_inner</field></block></value></block></value></block></value><next><block type="layer_select"><value name="VALUE"><block type="variables_get"><field name="VAR">chapterLayer</field></block></value><value name="BLOCK"><block type="layer_show"></block></value><next><block type="layer_select"><value name="VALUE"><block type="variables_get"><field name="VAR">chapterKaraokeBox</field></block></value><value name="BLOCK"><block type="layer_set_HTML"><value name="VALUE"><block type="text"><field name="TEXT"></field></block></value></block></value><next><block type="layer_select"><value name="VALUE"><block type="variables_get"><field name="VAR">chapterLayer</field></block></value><value name="BLOCK"><block type="effects_animate_custom"><statement name="PROPS"><block type="effects_animate_property"><field name="NAME">opacity</field><value name="VALUE"><block type="math_number"><field name="NUM">1</field></block></value></block></statement><value name="DURATION"><block type="math_number"><field name="NUM">2000</field></block></value><statement name="ONCOMPLETE"><block type="layer_select"><value name="VALUE"><block type="variables_get"><field name="VAR">chapterKaraokeBox</field></block></value><value name="BLOCK"><block type="karaoke"><value name="AUDIO"><block type="variables_get"><field name="VAR">chapterAudio</field></block></value><value name="JSON"><block type="variables_get"><field name="VAR">chapterText</field></block></value><value name="CSS"><block type="text"><field name="TEXT">color:#ff0000;background:none</field></block></value><statement name="ONCOMPLETE"><block type="layer_select"><value name="VALUE"><block type="photoshop_unique_layer_id"><field name="TEXT">paw_145</field></block></value><value name="BLOCK"><block type="layer_fadein"></block></value><next><block type="variables_set"><field name="VAR">canExitChapter</field><value name="VALUE"><block type="text"><field name="TEXT">true</field></block></value></block></next></block></statement></block></value></block></statement></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></statement></block><block type="comments_comment" x="50" y="350"><field name="TEXT">INTERACTIVE BOOK FOR KIDS: DEMO
----------------------------------------------------------
Main app initializations. Create variables and the slider puzzle sliders from layer groups.</field><next><block type="on_document_ready"><statement name="DO"><block type="on_click"><value name="TEXT"><block type="photoshop_layer_name"><field name="TEXT">chapterImage</field></block></value><statement name="DO"><block type="controls_if"><value name="IF0"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">canExitChapter</field></block></value><value name="B"><block type="text"><field name="TEXT">true</field></block></value></block></value><statement name="DO0"><block type="variables_set"><field name="VAR">canExitChapter</field><value name="VALUE"><block type="text"><field name="TEXT">false</field></block></value><next><block type="layer_select"><value name="VALUE"><block type="variables_get"><field name="VAR">chapterLayer</field></block></value><value name="BLOCK"><block type="layer_fadeout"></block></value><next><block type="layer_select"><value name="VALUE"><block type="photoshop_unique_layer_id"><field name="TEXT">paw_145</field></block></value><value name="BLOCK"><block type="layer_fadeout"></block></value></block></next></block></next></block></statement></block></statement><next><block type="variables_set"><field name="VAR">canExitChapter</field><value name="VALUE"><block type="text"><field name="TEXT">false</field></block></value><next><block type="variables_set"><field name="VAR">playing</field><value name="VALUE"><block type="math_number"><field name="NUM">0</field></block></value><next><block type="variables_set"><field name="VAR">pos2</field><value name="VALUE"><block type="math_number"><field name="NUM">0</field></block></value><next><block type="variables_set"><field name="VAR">pos</field><value name="VALUE"><block type="math_number"><field name="NUM">0</field></block></value><next><block type="variables_set"><field name="VAR">completeImagesList</field><value name="VALUE"><block type="lists_create_with"><mutation items="2"></mutation><value name="ADD0"><block type="layer_selectInVariable"><value name="VALUE"><block type="photoshop_unique_layer_id"><field name="TEXT">rabbit_complete_125</field></block></value></block></value><value name="ADD1"><block type="layer_selectInVariable"><value name="VALUE"><block type="photoshop_unique_layer_id"><field name="TEXT">cat_complete_127</field></block></value></block></value></block></value><next><block type="variables_set"><field name="VAR">slider1</field><value name="VALUE"><block type="layer_selectInVariable"><value name="VALUE"><block type="photoshop_unique_layer_id"><field name="TEXT">slider_1_31</field></block></value><value name="BLOCK"><block type="swipe_slider"><value name="SPEED"><block type="math_number"><field name="NUM">300</field></block></value><statement name="ONCHANGE"><block type="variables_set"><field name="VAR">pos</field><value name="VALUE"><block type="variables_property"><value name="VALUE"><block type="variables_get"><field name="VAR">slider1</field></block></value><value name="BLOCK"><block type="swipe_slider_get_pos"></block></value></block></value><next><block type="procedures_callnoreturn"><mutation name="checkSliderPosition"></mutation></block></next></block></statement></block></value></block></value><next><block type="variables_set"><field name="VAR">slider2</field><value name="VALUE"><block type="layer_selectInVariable"><value name="VALUE"><block type="photoshop_unique_layer_id"><field name="TEXT">slider_2_68</field></block></value><value name="BLOCK"><block type="swipe_slider"><value name="SPEED"><block type="math_number"><field name="NUM">300</field></block></value><statement name="ONCHANGE"><block type="variables_set"><field name="VAR">pos2</field><value name="VALUE"><block type="variables_property"><value name="VALUE"><block type="variables_get"><field name="VAR">slider2</field></block></value><value name="BLOCK"><block type="swipe_slider_get_pos"></block></value></block></value><next><block type="procedures_callnoreturn"><mutation name="checkSliderPosition"></mutation></block></next></block></statement></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></xml>
